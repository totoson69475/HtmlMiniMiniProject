<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentMain</title>
    <link rel="stylesheet" href="../css/studentMain.css">
</head>

<body>
    <div id="wrapper">
        <div id="sideMenuBar">
            <table>
                <tr>
                    <td><a href="../index.html"><img src="../img/LoginImgFolder/indukLogo.svg" alt="로고 Or 아이콘"></a></td>
                </tr>
                <tr class="menu" onclick="loadPage('./Student/student_lecture.html', '수강 신청')">
                    <td>수강 신청</td>
                </tr>
                <tr class="menu" onclick="loadPage('./Student/student_grade.html', '성적 조회')">
                    <td>성적 조회</td>
                </tr>
                <tr class="menu" onclick="loadPage('./Student/student_attendance.html', '출결 조회')">
                    <td>출결 조회</td>
                </tr>
                <tr class="menu" onclick="loadPage('./Student/student_profile.html', '개인 정보 조회')">
                    <td>개인 정보 조회</td>
                </tr>
            </table>
        </div>
        <section id="contentDIV">
            <header id="sectionHeader">
                <table>
                    <tr id="tabBarSpace">
                    </tr>
                    <tr id="userNameSpace">
                        <td id="helloUserTD">안녕하세요 OOO님</td>
                    </tr>
                </table>
            </header>
            <iframe id="contentFrame" name="content" src="./Student/student_lecture.html"></iframe>
        </section>
    </div>
</body>
<script>
    function loadPage(page, tabName) {
        const existingTab = Array.from(document.querySelectorAll('#tabBarSpace div#tabName'))
        .find(tab => tab.innerText === tabName);

        if (existingTab) {
            document.getElementById('contentFrame').src = page;
            return;
        }

        const newTab = `
            <td id="tabBar">
                <div id="tabName" onclick="loadPage('${page}', '${tabName}')">${tabName}</div>
                <div id="tabClose" onclick="closeTab(this)">X</div>
            </td>
        `
        document.getElementById('contentFrame').src = page;
        document.getElementById('tabBarSpace').insertAdjacentHTML('beforeend', newTab);
    }

    function closeTab(object) {
        const tab = object.parentElement;
        tab.remove();
    }
</script>

</html>